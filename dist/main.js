(()=>{"use strict";const e=document.querySelector(".add-task"),t=document.querySelector("#enter-task"),r=document.querySelector("#group-name"),n=document.querySelector("#group-container"),o=document.querySelector(".add-group"),a=document.querySelector("#delete-group"),s=document.querySelector("#gErrMsg");let d;const i=[{id:Date.now().toString(),name:"Travelling",tasks:["Travell to Lagos","2020-01-15","This is to attend an interview for a big job","High Priority"]}],c=()=>{localStorage.setItem("myTodoArray",JSON.stringify(d))},l=()=>{d=localStorage.getItem("myTodoArray")?JSON.parse(localStorage.getItem("myTodoArray")):i},u=()=>{l(),n.innerHTML="",d.forEach((e=>{const t=`\n    <p id=${e.id}>${e.name}</p>`;n.insertAdjacentHTML("afterbegin",t)}))};let g="",m="",p="",y="";document.addEventListener("DOMContentLoaded",(()=>{t.classList.add("no-display"),u()})),e.addEventListener("click",(()=>{t.classList.toggle("no-display")})),o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e={id:Date.now().toString(),name:r.value.toUpperCase(),tasks:["test","test"]},t=e.name;0===d.length||""===((e,t)=>{let r="";if(0!==e.length&&null!==e)return e.forEach((n=>{n.name===t&&(r=e.indexOf(t))})),r})(d,t)&&""!==r.value?(l(),d.push(e),c(),s.innerHTML="",r.classList.remove("red-border")):(s.innerHTML="Duplicate or Empty Group Name not Allowed",s.classList.add("group-duplicate"),r.classList.add("red-border"))})(),u()})),n.addEventListener("click",(e=>{var t;e.preventDefault(),t=e.target.innerHTML,d.forEach((e=>{t===e.name?(g=e.id,m=document.getElementById(g),m.classList.toggle("active-group")):(p=e.id,y=document.getElementById(p),y.classList.remove("active-group"))}))})),a.addEventListener("click",(()=>{let e=!1;m.classList.contains("active-group")&&(((e,t)=>{const r=e.findIndex((e=>e.id===t));e.splice(r,1),c()})(d,g),e=!0),e=!1,u()}))})();