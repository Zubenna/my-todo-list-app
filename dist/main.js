(()=>{"use strict";const e=document.querySelector(".add-task"),t=document.querySelector("#enter-task"),r=document.querySelector("#group-name"),n=document.querySelector("#group-container"),o=document.querySelector(".add-group"),a=document.querySelector("#delete-group"),d=document.querySelector("#gErrMsg");let s;const i=[{id:Date.now().toString(),name:"Travelling",tasks:["Travell to Lagos","2020-01-15","This is to attend an interview for a big job","High Priority"]}],c=()=>{localStorage.setItem("myTodoArray",JSON.stringify(s))},l=()=>{s=localStorage.getItem("myTodoArray")?JSON.parse(localStorage.getItem("myTodoArray")):i},u=()=>{l(),n.innerHTML="",s.forEach((e=>{const t=`\n    <p id=${e.id}>${e.name}</p>`;n.insertAdjacentHTML("afterbegin",t)}))};let m="",g="",p="",y="",L=!1;document.addEventListener("DOMContentLoaded",(()=>{t.classList.add("no-display"),u()})),e.addEventListener("click",(()=>{t.classList.toggle("no-display")})),o.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e={id:Date.now().toString(),name:r.value.toUpperCase(),tasks:["test","test"]},t=e.name;0===s.length||""===((e,t)=>{let r="";if(0!==e.length&&null!==e)return e.forEach((n=>{n.name===t&&(r=e.indexOf(t))})),r})(s,t)&&""!==r.value?(l(),s.push(e),c(),d.innerHTML="",r.classList.remove("red-border")):(d.innerHTML="Duplicate or Empty Group Name not Allowed",d.classList.add("group-duplicate"),r.classList.add("red-border"))})(),u()})),n.addEventListener("click",(e=>{var t;e.preventDefault(),t=e.target.innerHTML,s.forEach((e=>{t===e.name?(m=e.id,g=document.getElementById(m),g.classList.add("active-group"),L=!0):(p=e.id,y=document.getElementById(p),y.classList.remove("active-group"))}))})),a.addEventListener("click",(()=>{L&&((e,t)=>{const r=e.findIndex((e=>e.id===t));e.splice(r,1),c()})(s,m),L=!1,u()}))})();