(()=>{"use strict";var e={461:(e,t,r)=>{let a;r.d(t,{bn:()=>h,Gr:()=>H,Pr:()=>x,S$:()=>q,tk:()=>D,_n:()=>E,NO:()=>w,hs:()=>M,HO:()=>T});const n=[{id:"3456",name:"Travelling",tasks:[{id:"7893455",name:"Travell to Lagos",dateDue:"2020-01-15",priority:"High",describe:"Attend an interview for a big job"}]},{id:"7865",name:"Study",tasks:[{id:"5768394",name:"Study JavaScript",dateDue:"2020-01-20",priority:"Medium",describe:"Studying this topic is crucial to my next project"}]}],i=()=>{localStorage.setItem("myTodoArray",JSON.stringify(a))},s=()=>{a=localStorage.getItem("myTodoArray")?JSON.parse(localStorage.getItem("myTodoArray")):n},d=()=>{s(),q.innerHTML="",a.forEach((e=>{const t=`\n    <p id=${e.id}>${e.name}</p>`;q.insertAdjacentHTML("afterbegin",t)}))},o=(e,t)=>e.findIndex((e=>e.id===t)),c=(e,t)=>{const r=o(e,t);e.splice(r,1),i()},l=()=>({id:Date.now().toString(),name:T.value,dateDue:x.value,priority:M.value,describe:H.value}),u=(e,t)=>e[o(e,t)].tasks,p=(e,t)=>{const r=t.priority,a=e.priority;let n=0;return r>a?n=1:r<a&&(n=-1),n},y=(e,t)=>{const r=t.dateDue,a=e.dateDue;let n=0;return r>a?n=1:r<a&&(n=-1),n},m=document.querySelector(".add-task"),v=document.querySelector(".form-title"),g=document.querySelector("#update-task"),f=document.querySelector("#sort-item"),S=document.querySelector(".add-group"),k=document.querySelector("#delete-group"),b=document.querySelector("#submit-task"),L=document.querySelector(".task-box"),h=document.querySelector("#enter-task"),E=document.querySelector("#group-name"),q=document.querySelector("#group-container"),D=document.querySelector("#gErrMsg"),T=document.querySelector("#task-name"),x=document.querySelector("#due-date"),M=document.querySelector("#select-priority"),H=document.querySelector("#describe-task");document.querySelector(".fa-edit"),document.querySelector("#del-task"),document.querySelector(".task-box-div");let $="",O="",A="",I="",j=!1;document.addEventListener("DOMContentLoaded",(()=>{h.classList.add("no-display"),d()})),m.addEventListener("click",(()=>{h.classList.toggle("no-display"),g.style.display="none"})),S.addEventListener("submit",(e=>{e.preventDefault(),(()=>{const e={id:Date.now().toString(),name:E.value.toUpperCase(),tasks:[]},t=e.name;0!==a.length&&""!==((e,t)=>{let r="";if(0!==e.length&&null!==e)return e.forEach((a=>{a.name===t&&(r=e.indexOf(t))})),r})(a,t)||""===E.value?(D.innerHTML="Duplicate or Empty Group Name not Allowed",D.classList.add("group-duplicate"),E.classList.add("red-border")):(s(),a.push(e),i(),D.innerHTML="",E.classList.remove("red-border"))})(),d()})),q.addEventListener("click",(e=>{var t;e.preventDefault(),t=e.target.innerHTML,L.innerHTML="",a.forEach((e=>{if(t===e.name){$=e.id;const t=e.tasks;O=document.getElementById($),O.classList.add("active-group"),w(t),j=!0,u(a,$).length>=2?f.style.display="block":f.style.display="none"}else A=e.id,I=document.getElementById(A),I.classList.remove("active-group")}))})),k.addEventListener("click",(()=>{j&&c(a,$),j=!1,d()})),b.addEventListener("click",(()=>{((e,t)=>{const r=e[o(e,t)];if(""!==T.value&&""!==x.value&&""!==H.value){const e=l();r.tasks.push(e),i()}w(r.tasks)})(a,$)})),L.addEventListener("click",(e=>{e.preventDefault();const t=e.target.className,r=e.target.id,n=e.target.parentElement.id,s=r.slice(0,r.length-1),d=u(a,$);d.forEach((e=>{if("fa fa-trash-o"===t&&s===e.id){const t=e.id;c(d,t),w(d)}if("fa fa-edit"===t&&s===e.id){v.innerHTML="Edit Task",b.style.display="none";const t=e.id;((e,t)=>{const r=e[o(e,t)];T.value=r.name,x.value=r.dateDue,M.value=r.priority,H.value=r.describe,h.style.display="block"})(d,t),g.addEventListener("click",(()=>{((e,t)=>{const r=o(e,t),a=l();e.splice(r,1,a),i()})(d,t),w(d)}))}const a=document.getElementById(n),u=r.slice(3,r.length);e.id===u&&a.classList.toggle("task-div")}))})),f.addEventListener("change",(e=>{var t,r;e.preventDefault(),t=u(a,$),"priority"===(r=f.value)&&w(t.sort(p)),"dateDue"===r&&w(t.sort(y))}));const w=e=>{s(),L.innerHTML="",e.forEach((e=>{const t=`\n      <div class='task-box-div' id='tb-${e.id}'><h5 class='t-title' id='pt-${e.id}'><span>Title:</span> ${e.name}</h5></br>\n      <textarea class='t-describe'>${e.describe}</textarea><p class='t-priority'><span>Priority:</span> ${e.priority}</p>\n      <div class='edit-box'><p class='due-date'><span>Due Date:</span> ${e.dateDue}</p><div class='task-edit'><i class="fa fa-edit" id='${e.id}e'></i>\n      <i class='fa fa-trash-o' id='${e.id}d'></i>\n      </div></div></div></br>`;L.insertAdjacentHTML("afterbegin",t)}))}}},t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r(461)})();